{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap a968f958973bb1e25e63","webpack:///./src/utils.ts","webpack:///./src/Watcher.ts","webpack:///./src/Geview.ts","webpack:///./src/ComManager.ts","webpack:///./src/Observer.ts","webpack:///./src/Parser.ts","webpack:///./src/Publisher.ts","webpack:///./src/index.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","warn","msg","console","toElement","el","document","querySelector","isObject","obj","_typeof","merge","options","defaultOptions","keys","concat","keyLength","length","key","defaultCur","optionsCur","create","proxy","target","source","forEach","targetKey","defProp","set","newVal","emptyFun","descriptor","setter","enume","config","undefined","randomString","arguments","charList","charListLength","Array","from","map","_","Math","random","join","pathToData","context","path","propChain","split","reduce","x","y","e","Symbol","iterator","constructor","0","1","2","3","4","5","6","7","8","9","UP","DOWN","LEFT","RIGHT","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","SPACE","DELETE","a","b","f","g","h","j","k","q","r","t","u","v","w","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","CONST","USE_CAPTURE","BUBBLING","CAPTURE","KEY_CODE","NODE_TYPE","element","text","comment","regex","_classCallCheck","instance","Constructor","TypeError","Watcher","WatcherTarget","_createClass","defineProperties","props","writable","protoProps","staticProps","_utils","vm","exp","callback","this","_get","_computedValCache","_isFunc","oldVal","_Observer","_ComManager","_Parser","_isComponent","data","comManager","ComManager","uid","Geview","_init","_this","$options","isComponent","$comManager","_uid","Observer","computed","computedFun","bind","Parser","newCom","assign","addCom","default","components","component","initPorperty","val","publisher","_Publisher","Publisher","_Watcher","addWatcher","notify","log","traverse","fragment","createDocumentFragment","child","firstChild","parseNode","appendChild","node","tagName","nodeType","parseElement","parseText","childNodes","attributes","txt","textContent","txtReg","test","exps","match","RegExp","replace","trim","ctx","watcherList","watcher","push","update","_Geview","_Geview2","window"],"mappings":"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","file":"index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.warn = warn;\nexports.toElement = toElement;\nexports.isObject = isObject;\nexports.merge = merge;\nexports.proxy = proxy;\nexports.emptyFun = emptyFun;\nexports.defProp = defProp;\nexports.randomString = randomString;\nexports.pathToData = pathToData;\nfunction warn(msg) {\n    console.warn('[Geview]: ' + msg);\n}\nfunction toElement(el) {\n    return typeof el === 'string' ? document.querySelector(el) : el;\n}\nfunction isObject(obj) {\n    return obj !== null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\nfunction merge(options, defaultOptions) {\n    var keys = Object.keys(options).concat(Object.keys(defaultOptions));\n    var keyLength = keys.length;\n    for (var i = 0; i < keyLength; i++) {\n        var _key = keys[i];\n        var defaultCur = defaultOptions[_key];\n        var optionsCur = options[_key];\n        if (defaultCur === optionsCur) {\n            continue;\n        }\n        if (!optionsCur) {\n            options[_key] = isObject(defaultCur) ? Object.create(defaultCur) : defaultCur;\n        } else if (isObject(defaultCur) && isObject(optionsCur)) {\n            merge(optionsCur, defaultCur);\n        }\n    }\n    return options;\n}\nfunction proxy(target, source) {\n    var keys = Object.keys(source);\n    keys.forEach(function (key) {\n        var targetKey = key;\n        if (target.hasOwnProperty(key)) {\n            targetKey += '_var';\n        }\n        defProp(target, targetKey, {\n            get: function get() {\n                return source[key];\n            },\n            set: function set(newVal) {\n                source[key] = newVal;\n            }\n        });\n    });\n}\nfunction emptyFun() {}\nfunction defProp(obj, key, descriptor) {\n    var getter = descriptor.get || emptyFun();\n    var setter = descriptor.set || emptyFun();\n    var enume = descriptor.enumerable;\n    var config = descriptor.configurable;\n    Object.defineProperty(obj, key, {\n        enumerable: enume === undefined ? true : !!enume,\n        configurable: config === undefined ? true : !!config,\n        get: getter,\n        set: setter\n    });\n}\nfunction randomString() {\n    var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n\n    var charList = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    var charListLength = charList.length;\n    return Array.from(new Array(length)).map(function (_) {\n        return charList[~~(Math.random() * charListLength)];\n    }).join('');\n}\nvar key = {\n    \"0\": 48,\n    \"1\": 49,\n    \"2\": 50,\n    \"3\": 51,\n    \"4\": 52,\n    \"5\": 53,\n    \"6\": 54,\n    \"7\": 55,\n    \"8\": 56,\n    \"9\": 57,\n    \"UP\": 38,\n    \"DOWN\": 40,\n    \"LEFT\": 37,\n    \"RIGHT\": 39,\n    \"BACKSPACE\": 8,\n    \"TAB\": 9,\n    \"ENTER\": 13,\n    \"SHIFT\": 16,\n    \"CTRL\": 17,\n    \"ALT\": 18,\n    \"SPACE\": 32,\n    \"DELETE\": 46,\n    \"a\": 97,\n    \"b\": 98,\n    \"c\": 99,\n    \"d\": 100,\n    \"e\": 101,\n    \"f\": 102,\n    \"g\": 103,\n    \"h\": 104,\n    \"i\": 105,\n    \"j\": 106,\n    \"k\": 107,\n    \"l\": 108,\n    \"m\": 109,\n    \"n\": 110,\n    \"o\": 111,\n    \"p\": 112,\n    \"q\": 113,\n    \"r\": 114,\n    \"s\": 115,\n    \"t\": 116,\n    \"u\": 117,\n    \"v\": 118,\n    \"w\": 119,\n    \"x\": 120,\n    \"y\": 121,\n    \"z\": 122,\n    \"A\": 65,\n    \"B\": 66,\n    \"C\": 67,\n    \"D\": 68,\n    \"E\": 69,\n    \"F\": 70,\n    \"G\": 71,\n    \"H\": 72,\n    \"I\": 73,\n    \"J\": 74,\n    \"K\": 75,\n    \"L\": 76,\n    \"M\": 77,\n    \"N\": 78,\n    \"O\": 79,\n    \"P\": 80,\n    \"Q\": 81,\n    \"R\": 82,\n    \"S\": 83,\n    \"T\": 84,\n    \"U\": 85,\n    \"V\": 86,\n    \"W\": 87,\n    \"X\": 88,\n    \"Y\": 89,\n    \"Z\": 90,\n    \"F1\": 112,\n    \"F2\": 113,\n    \"F3\": 114,\n    \"F4\": 115,\n    \"F5\": 116,\n    \"F6\": 117,\n    \"F7\": 118,\n    \"F8\": 119,\n    \"F9\": 120,\n    \"F10\": 121,\n    \"F11\": 122,\n    \"F12\": 123\n};\nvar CONST = exports.CONST = {\n    USE_CAPTURE: {\n        BUBBLING: false,\n        CAPTURE: true\n    },\n    KEY_CODE: key,\n    NODE_TYPE: {\n        element: 1,\n        text: 3,\n        comment: 8\n    }\n};\nvar regex = exports.regex = {\n    text: /{{\\s*(.*?)\\s*}}/\n};\nfunction pathToData(context, path) {\n    var propChain = path.split('.');\n    try {\n        if (propChain.length === 1) {\n            return context[propChain[0]];\n        }\n        return propChain.reduce(function (x, y) {\n            return context[x][y];\n        });\n    } catch (e) {\n        warn(e);\n        return '';\n    }\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Watcher = exports.WatcherTarget = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar WatcherTarget = exports.WatcherTarget = null;\n\nvar Watcher = exports.Watcher = function () {\n    function Watcher(vm, exp, callback, options) {\n        _classCallCheck(this, Watcher);\n\n        this.vm = vm;\n        this.exp = exp;\n        this.callback = callback;\n        exports.WatcherTarget = WatcherTarget = this;\n        this.value = this._get(this.exp);\n        if (typeof this.value === 'function') {\n            this._computedValCache = this.value();\n            this._isFunc = true;\n        }\n        exports.WatcherTarget = WatcherTarget = null;\n    }\n\n    _createClass(Watcher, [{\n        key: \"_get\",\n        value: function _get(exp) {\n            return (0, _utils.pathToData)(this.vm, exp);\n        }\n    }, {\n        key: \"update\",\n        value: function update(oldVal, newVal) {\n            if (this._isFunc) {\n                newVal = this.value();\n                this.callback(this._computedValCache, newVal);\n                this._computedValCache = newVal;\n            } else {\n                this.callback(oldVal, newVal);\n            }\n        }\n    }]);\n\n    return Watcher;\n}();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(0);\n\nvar _Observer = __webpack_require__(4);\n\nvar _ComManager = __webpack_require__(3);\n\nvar _Parser = __webpack_require__(5);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultOptions = {\n    _isComponent: false,\n    data: {}\n};\nvar comManager = new _ComManager.ComManager();\nvar uid = 0;\n\nvar Geview = function () {\n    function Geview(options) {\n        _classCallCheck(this, Geview);\n\n        if (!(this instanceof Geview)) {\n            return new Geview(options);\n        }\n        this._init(options);\n    }\n\n    _createClass(Geview, [{\n        key: \"_init\",\n        value: function _init(options) {\n            var _this = this;\n\n            this.$options = (0, _utils.merge)(options, defaultOptions);\n            var el = this.$options.el;\n            var isComponent = this.$options._isComponent;\n            if (el && !isComponent) {\n                this.el = (0, _utils.toElement)(el);\n                this.$comManager = comManager;\n            }\n            if (this.$options.name) {\n                this.name = this.$options.name;\n            }\n            if (isComponent) {\n                this._isComponent = true;\n            }\n            this._uid = uid++;\n\n            new _Observer.Observer(this.$options.data);\n\n            (0, _utils.proxy)(this, this.$options.data);\n            var computed = this.$options.computed;\n            if (computed) {\n                var keys = Object.keys(computed);\n                keys.forEach(function (key) {\n                    var computedFun = computed[key].bind(_this);\n                    (0, _utils.defProp)(_this, key, {\n                        enumerable: true,\n                        configurable: true,\n                        get: function get() {\n                            return computedFun;\n                        },\n                        set: _utils.emptyFun\n                    });\n                });\n            }\n            this.el && new _Parser.Parser(this.el, this);\n        }\n    }], [{\n        key: \"component\",\n        value: function component(name, options) {\n            if (!name) {\n                (0, _utils.warn)('Component name is required');\n                return;\n            }\n            var newCom = new Geview(Object.assign({ _isComponent: true, name: name }, options));\n            comManager.addCom(newCom);\n            return newCom;\n        }\n    }]);\n\n    return Geview;\n}();\n\nexports.default = Geview;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ComManager = exports.ComManager = function () {\n    function ComManager() {\n        _classCallCheck(this, ComManager);\n\n        this.components = {};\n    }\n\n    _createClass(ComManager, [{\n        key: \"addCom\",\n        value: function addCom(component) {\n            this.components[component.name] = component;\n        }\n    }, {\n        key: \"hasCom\",\n        value: function hasCom(name) {\n            return name in this.components;\n        }\n    }]);\n\n    return ComManager;\n}();\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Observer = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.initPorperty = initPorperty;\n\nvar _utils = __webpack_require__(0);\n\nvar _Publisher = __webpack_require__(6);\n\nvar _Watcher = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Observer = exports.Observer = function () {\n    function Observer(data) {\n        _classCallCheck(this, Observer);\n\n        if (!(0, _utils.isObject)(data)) {\n            (0, _utils.warn)('Observed data must be an object');\n            return;\n        }\n        (0, _utils.defProp)(data, '__ob__', {\n            enumerable: false,\n            configurable: true,\n            get: function get() {\n                return this;\n            }\n        });\n        Observer.traverse(data);\n    }\n\n    _createClass(Observer, null, [{\n        key: \"traverse\",\n        value: function traverse(data) {\n            var keys = Object.keys(data);\n            keys.forEach(function (key) {\n                initPorperty(data, key, data[key]);\n            });\n        }\n    }]);\n\n    return Observer;\n}();\n\nfunction initPorperty(obj, key, val) {\n    if ((0, _utils.isObject)(val)) {\n        new Observer(val);\n    }\n    var publisher = new _Publisher.Publisher();\n    (0, _utils.defProp)(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function get() {\n            if (_Watcher.WatcherTarget !== null) {\n                publisher.addWatcher(_Watcher.WatcherTarget);\n            }\n            return val;\n        },\n        set: function set(newVal) {\n            if (val === newVal) {\n                return;\n            }\n            if ((0, _utils.isObject)(newVal)) {\n                new Observer(newVal);\n            }\n            var oldVal = val;\n            val = newVal;\n            publisher.notify(oldVal, newVal);\n            console.log(publisher);\n        }\n    });\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Parser = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(0);\n\nvar _Watcher = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Parser = exports.Parser = function () {\n    function Parser(el, context) {\n        _classCallCheck(this, Parser);\n\n        this.context = context;\n        if (!(this instanceof Parser)) {\n            return new Parser(el, context);\n        }\n        var fragment = document.createDocumentFragment();\n        var child = void 0;\n\n        while (child = el.firstChild) {\n            this.parseNode(child);\n            fragment.appendChild(child);\n        }\n        el.appendChild(fragment);\n    }\n\n    _createClass(Parser, [{\n        key: \"parseNode\",\n        value: function parseNode(node) {\n            var tag = node.tagName;\n\n            if (false) {} else {\n                switch (node.nodeType) {\n                    case _utils.CONST.NODE_TYPE.element:\n                        this.parseElement(node);\n                        break;\n                    case _utils.CONST.NODE_TYPE.text:\n                        this.parseText(node);\n                        break;\n                }\n                node.childNodes && Array.from(node.childNodes, this.parseNode.bind(this));\n            }\n        }\n    }, {\n        key: \"parseElement\",\n        value: function parseElement(el) {\n            var attrs = Array.from(el.attributes);\n        }\n    }, {\n        key: \"parseText\",\n        value: function parseText(node) {\n            var txt = node.textContent;\n            var txtReg = _utils.regex.text;\n            if (!txtReg.test(txt)) {\n                return;\n            }\n\n            var exps = txt.match(new RegExp(txtReg, 'g')).map(function (match) {\n                return [match.replace(/[{}]/g, '').trim(), match];\n            });\n            var ctx = this.context;\n            exps.forEach(function (exp) {\n                node.textContent = node.textContent.replace(exp[1], (0, _utils.pathToData)(ctx, exp[0]));\n                new _Watcher.Watcher(ctx, exp[0], function (oldVal, newVal) {\n                    node.textContent = node.textContent.replace(oldVal, newVal);\n                });\n            });\n        }\n    }]);\n\n    return Parser;\n}();\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Publisher = exports.Publisher = function () {\n    function Publisher() {\n        _classCallCheck(this, Publisher);\n\n        this.watcherList = [];\n    }\n\n    _createClass(Publisher, [{\n        key: \"addWatcher\",\n        value: function addWatcher(watcher) {\n            this.watcherList.push(watcher);\n        }\n    }, {\n        key: \"notify\",\n        value: function notify(oldVal, newVal) {\n            this.watcherList.forEach(function (watcher) {\n                watcher.update(oldVal, newVal);\n            });\n        }\n    }]);\n\n    return Publisher;\n}();\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Geview = __webpack_require__(2);\n\nvar _Geview2 = _interopRequireDefault(_Geview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.Geview = _Geview2.default;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a968f958973bb1e25e63","/**\n * Created by geeku on 27/03/2017.\n */\n/**\n * Created by geeku on 27/03/2017.\n */ export function warn(msg) {\n    console.warn('[Geview]: ' + msg);\n}\nexport function toElement(el) {\n    return typeof el === 'string' ? document.querySelector(el) : el;\n}\nexport function isObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\nexport function merge(options, defaultOptions) {\n    const keys = Object.keys(options).concat(Object.keys(defaultOptions));\n    const keyLength = keys.length;\n    for (let i = 0; i < keyLength; i++) {\n        const key = keys[i];\n        let defaultCur = defaultOptions[key];\n        let optionsCur = options[key];\n        if (defaultCur === optionsCur) {\n            continue;\n        }\n        if (!optionsCur) {\n            options[key] = isObject(defaultCur) ? Object.create(defaultCur) : defaultCur;\n        }\n        else if (isObject(defaultCur) && isObject(optionsCur)) {\n            merge(optionsCur, defaultCur);\n        }\n    }\n    return options;\n}\nexport function proxy(target, source) {\n    const keys = Object.keys(source);\n    keys.forEach(key => {\n        let targetKey = key;\n        if (target.hasOwnProperty(key)) {\n            targetKey += '_var';\n        }\n        defProp(target, targetKey, {\n            get: function () {\n                return source[key];\n            },\n            set: function (newVal) {\n                source[key] = newVal;\n            }\n        });\n    });\n}\nexport function emptyFun() { }\nexport function defProp(obj, key, descriptor) {\n    const getter = descriptor.get || emptyFun();\n    const setter = descriptor.set || emptyFun();\n    const enume = descriptor.enumerable;\n    const config = descriptor.configurable;\n    Object.defineProperty(obj, key, {\n        enumerable: enume === undefined ? true : !!enume,\n        configurable: config === undefined ? true : !!config,\n        get: getter,\n        set: setter\n    });\n}\nexport function randomString(length = 5) {\n    const charList = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const charListLength = charList.length;\n    return Array.from(new Array(length)).map(_ => charList[~~(Math.random() * charListLength)]).join('');\n}\nconst key = {\n    \"0\": 48,\n    \"1\": 49,\n    \"2\": 50,\n    \"3\": 51,\n    \"4\": 52,\n    \"5\": 53,\n    \"6\": 54,\n    \"7\": 55,\n    \"8\": 56,\n    \"9\": 57,\n    \"UP\": 38,\n    \"DOWN\": 40,\n    \"LEFT\": 37,\n    \"RIGHT\": 39,\n    \"BACKSPACE\": 8,\n    \"TAB\": 9,\n    \"ENTER\": 13,\n    \"SHIFT\": 16,\n    \"CTRL\": 17,\n    \"ALT\": 18,\n    \"SPACE\": 32,\n    \"DELETE\": 46,\n    \"a\": 97,\n    \"b\": 98,\n    \"c\": 99,\n    \"d\": 100,\n    \"e\": 101,\n    \"f\": 102,\n    \"g\": 103,\n    \"h\": 104,\n    \"i\": 105,\n    \"j\": 106,\n    \"k\": 107,\n    \"l\": 108,\n    \"m\": 109,\n    \"n\": 110,\n    \"o\": 111,\n    \"p\": 112,\n    \"q\": 113,\n    \"r\": 114,\n    \"s\": 115,\n    \"t\": 116,\n    \"u\": 117,\n    \"v\": 118,\n    \"w\": 119,\n    \"x\": 120,\n    \"y\": 121,\n    \"z\": 122,\n    \"A\": 65,\n    \"B\": 66,\n    \"C\": 67,\n    \"D\": 68,\n    \"E\": 69,\n    \"F\": 70,\n    \"G\": 71,\n    \"H\": 72,\n    \"I\": 73,\n    \"J\": 74,\n    \"K\": 75,\n    \"L\": 76,\n    \"M\": 77,\n    \"N\": 78,\n    \"O\": 79,\n    \"P\": 80,\n    \"Q\": 81,\n    \"R\": 82,\n    \"S\": 83,\n    \"T\": 84,\n    \"U\": 85,\n    \"V\": 86,\n    \"W\": 87,\n    \"X\": 88,\n    \"Y\": 89,\n    \"Z\": 90,\n    \"F1\": 112,\n    \"F2\": 113,\n    \"F3\": 114,\n    \"F4\": 115,\n    \"F5\": 116,\n    \"F6\": 117,\n    \"F7\": 118,\n    \"F8\": 119,\n    \"F9\": 120,\n    \"F10\": 121,\n    \"F11\": 122,\n    \"F12\": 123\n};\n// Array.from(letters, letter => {\n//     key[letter] = letter.charCodeAt(0);\n// });\n// Array(12).fill().forEach((val, index) => {\n//     key['F' + (index + 1)] = F1_KEYCODE + index;\n// });\nexport const CONST = {\n    USE_CAPTURE: {\n        BUBBLING: false,\n        CAPTURE: true\n    },\n    KEY_CODE: key,\n    NODE_TYPE: {\n        element: 1,\n        text: 3,\n        comment: 8\n    }\n};\nexport const regex = {\n    text: /{{\\s*(.*?)\\s*}}/\n};\nexport function pathToData(context, path) {\n    const propChain = path.split('.');\n    try {\n        if (propChain.length === 1) {\n            return context[propChain[0]];\n        }\n        return propChain.reduce((x, y) => {\n            return context[x][y];\n        });\n    }\n    catch (e) {\n        warn(e);\n        return '';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","import { pathToData } from \"./utils\";\n/**\n * Created by geeku on 28/03/2017.\n */\nexport let WatcherTarget = null;\nexport class Watcher {\n    constructor(vm, exp, callback, options) {\n        this.vm = vm;\n        this.exp = exp;\n        this.callback = callback;\n        WatcherTarget = this;\n        this.value = this._get(this.exp);\n        if (typeof this.value === 'function') {\n            this._computedValCache = this.value();\n            this._isFunc = true;\n        }\n        WatcherTarget = null;\n        // if (!options.lazy) {\n        //\n        // }\n    }\n    _get(exp) {\n        return pathToData(this.vm, exp);\n    }\n    update(oldVal, newVal) {\n        if (this._isFunc) {\n            newVal = this.value();\n            this.callback(this._computedValCache, newVal);\n            this._computedValCache = newVal;\n        }\n        else {\n            this.callback(oldVal, newVal);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Watcher.ts","///<reference path=\"ComManager.ts\"/>\n/**\n * Created by geeku on 27/03/2017.\n */\nimport { defProp, emptyFun, merge, proxy, toElement, warn } from \"./utils\";\nimport { Observer } from \"./Observer\";\nimport { ComManager } from \"./ComManager\";\nimport { Parser } from \"./Parser\";\nconst defaultOptions = {\n    _isComponent: false,\n    data: {}\n};\nconst comManager = new ComManager();\nlet uid = 0;\nclass Geview {\n    constructor(options) {\n        if (!(this instanceof Geview)) {\n            return new Geview(options);\n        }\n        this._init(options);\n    }\n    _init(options) {\n        this.$options = merge(options, defaultOptions);\n        const el = this.$options.el;\n        const isComponent = this.$options._isComponent;\n        if (el && !isComponent) {\n            this.el = toElement(el);\n            this.$comManager = comManager;\n        }\n        if (this.$options.name) {\n            this.name = this.$options.name;\n        }\n        if (isComponent) {\n            this._isComponent = true;\n        }\n        this._uid = uid++;\n        // observe data\n        new Observer(this.$options.data);\n        // proxy data to Geview's instance\n        proxy(this, this.$options.data);\n        const computed = this.$options.computed;\n        if (computed) {\n            const keys = Object.keys(computed);\n            keys.forEach(key => {\n                const computedFun = computed[key].bind(this);\n                defProp(this, key, {\n                    enumerable: true,\n                    configurable: true,\n                    get: function () {\n                        return computedFun;\n                    },\n                    set: emptyFun\n                });\n            });\n        }\n        this.el && new Parser(this.el, this);\n    }\n    static component(name, options) {\n        if (!name) {\n            warn('Component name is required');\n            return;\n        }\n        const newCom = new Geview(Object.assign({ _isComponent: true, name: name }, options));\n        comManager.addCom(newCom);\n        return newCom;\n    }\n}\nexport default Geview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Geview.ts","export class ComManager {\n    constructor() {\n        this.components = {};\n    }\n    addCom(component) {\n        this.components[component.name] = component;\n    }\n    hasCom(name) {\n        return name in this.components;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ComManager.ts","/**\n * Created by geeku on 27/03/2017.\n */\nimport { defProp, isObject, warn } from \"./utils\";\nimport { Publisher } from \"./Publisher\";\nimport { WatcherTarget } from \"./Watcher\";\nexport class Observer {\n    constructor(data) {\n        if (!isObject(data)) {\n            warn('Observed data must be an object');\n            return;\n        }\n        defProp(data, '__ob__', {\n            enumerable: false,\n            configurable: true,\n            get: function () {\n                return this;\n            }\n        });\n        Observer.traverse(data);\n    }\n    static traverse(data) {\n        const keys = Object.keys(data);\n        keys.forEach(key => {\n            initPorperty(data, key, data[key]);\n        });\n    }\n}\nexport function initPorperty(obj, key, val) {\n    if (isObject(val)) {\n        new Observer(val);\n    }\n    const publisher = new Publisher();\n    defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            if (WatcherTarget !== null) {\n                publisher.addWatcher(WatcherTarget);\n            }\n            return val;\n        },\n        set: function (newVal) {\n            if (val === newVal) {\n                return;\n            }\n            if (isObject(newVal)) {\n                new Observer(newVal);\n            }\n            const oldVal = val;\n            val = newVal;\n            publisher.notify(oldVal, newVal);\n            console.log(publisher);\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Observer.ts","import { CONST, pathToData, regex } from \"./utils\";\nimport { Watcher } from \"./Watcher\";\n/**\n * Created by geeku on 28/03/2017.\n */\nexport class Parser {\n    constructor(el, context) {\n        this.context = context;\n        if (!(this instanceof Parser)) {\n            return new Parser(el, context);\n        }\n        const fragment = document.createDocumentFragment();\n        let child;\n        // console.log(this);\n        while (child = el.firstChild) {\n            this.parseNode(child);\n            fragment.appendChild(child);\n        }\n        el.appendChild(fragment);\n    }\n    parseNode(node) {\n        const tag = node.tagName;\n        // console.log(node);\n        if (false /*context.comManager.hasCom(tag)*/) {\n            // TODO\n        }\n        else {\n            switch (node.nodeType) {\n                case CONST.NODE_TYPE.element:\n                    this.parseElement(node);\n                    break;\n                case CONST.NODE_TYPE.text:\n                    this.parseText(node);\n                    break;\n            }\n            node.childNodes && Array.from(node.childNodes, this.parseNode.bind(this));\n        }\n    }\n    parseElement(el) {\n        const attrs = Array.from(el.attributes);\n        // console.log(attrs);\n    }\n    parseText(node) {\n        const txt = node.textContent;\n        const txtReg = regex.text;\n        if (!txtReg.test(txt)) {\n            return;\n        }\n        // '{{ content }} {{ content2 }}' =>  [['content', '{{ content }}'], ['content2', '{{ content2 }}']]\n        const exps = txt.match(new RegExp(txtReg, 'g')).map(match => [match.replace(/[{}]/g, '').trim(), match]);\n        const ctx = this.context;\n        exps.forEach(exp => {\n            // first time replace content\n            node.textContent = node.textContent.replace(exp[1], pathToData(ctx, exp[0]));\n            new Watcher(ctx, exp[0], (oldVal, newVal) => {\n                node.textContent = node.textContent.replace(oldVal, newVal);\n            });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Parser.ts","export class Publisher {\n    constructor() {\n        this.watcherList = [];\n    }\n    addWatcher(watcher) {\n        this.watcherList.push(watcher);\n    }\n    notify(oldVal, newVal) {\n        this.watcherList.forEach(watcher => {\n            watcher.update(oldVal, newVal);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Publisher.ts","/**\n * Created by geeku on 27/03/2017.\n */\nimport Geview from './Geview';\nwindow.Geview = Geview; // expose Geview to global\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}