{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap ac3c58b1fccee8b63678","webpack:///./src/utils.ts","webpack:///./src/Watcher.ts","webpack:///./src/Geview.ts","webpack:///./src/ComManager.ts","webpack:///./src/Observer.ts","webpack:///./src/Parser.ts","webpack:///./src/Publisher.ts","webpack:///./src/index.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","warn","msg","console","toElement","el","document","querySelector","isObject","obj","_typeof","merge","options","defaultOptions","keys","concat","keyLength","length","key","defaultCur","optionsCur","create","proxy","target","source","forEach","targetKey","defProp","set","newVal","emptyFun","descriptor","setter","enume","config","undefined","randomString","arguments","charList","charListLength","Array","from","map","_","Math","random","join","pathToData","context","path","propChain","split","isSet","val","prop","index","reduce","x","y","e","Symbol","iterator","constructor","0","1","2","3","4","5","6","7","8","9","UP","DOWN","LEFT","RIGHT","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","SPACE","DELETE","a","b","f","g","h","j","k","q","r","t","u","v","w","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","CONST","USE_CAPTURE","BUBBLING","CAPTURE","KEY_CODE","NODE_TYPE","element","text","comment","regex","_classCallCheck","instance","Constructor","TypeError","Watcher","WatcherTarget","_createClass","defineProperties","props","writable","protoProps","staticProps","_utils","vm","exp","callback","this","_get","_computedValCache","_isFunc","oldVal","_Observer","_ComManager","_Parser","_isComponent","data","comManager","ComManager","uid","Geview","$methods","_init","_this","$options","isComponent","$comManager","_uid","Observer","computed","computedFun","bind","methods","Parser","newCom","assign","addCom","default","components","component","initPorperty","publisher","_Publisher","Publisher","_Watcher","addWatcher","notify","traverse","directives","fragment","createDocumentFragment","child","firstChild","parseNode","appendChild","node","tagName","nodeType","parseElement","parseText","childNodes","attrs","attributes","attr","nodeValue","_curElement","dirRegex","RegExp","attrName","attrVal","test","dir","isArray","processDir","$1","$2","dirVal","removeAttribute","toUpperCase","slice","setAttribute","_this2","dirBind","addEventListener","innerHTML","innerText","classList","add","originalDisplay","style","display","sibling","nextElementSibling","parent","parentNode","elseElement","ifTarget","createComment","hasAttribute","prefix","removeChild","insertBefore","txt","textContent","txtReg","exps","match","replace","trim","ctx","watcherList","watcher","push","update","_Geview","_Geview2","window"],"mappings":"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","file":"index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.warn = warn;\nexports.toElement = toElement;\nexports.isObject = isObject;\nexports.merge = merge;\nexports.proxy = proxy;\nexports.emptyFun = emptyFun;\nexports.defProp = defProp;\nexports.randomString = randomString;\nexports.pathToData = pathToData;\nfunction warn(msg) {\n    console.warn('[Geview]: ' + msg);\n}\nfunction toElement(el) {\n    return typeof el === 'string' ? document.querySelector(el) : el;\n}\nfunction isObject(obj) {\n    return obj !== null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\nfunction merge(options, defaultOptions) {\n    var keys = Object.keys(options).concat(Object.keys(defaultOptions));\n    var keyLength = keys.length;\n    for (var i = 0; i < keyLength; i++) {\n        var _key = keys[i];\n        var defaultCur = defaultOptions[_key];\n        var optionsCur = options[_key];\n        if (defaultCur === optionsCur) {\n            continue;\n        }\n        if (!optionsCur) {\n            options[_key] = isObject(defaultCur) ? Object.create(defaultCur) : defaultCur;\n        } else if (isObject(defaultCur) && isObject(optionsCur)) {\n            merge(optionsCur, defaultCur);\n        }\n    }\n    return options;\n}\nfunction proxy(target, source) {\n    var keys = Object.keys(source);\n    keys.forEach(function (key) {\n        var targetKey = key;\n        if (target.hasOwnProperty(key)) {\n            targetKey += '_var';\n        }\n        defProp(target, targetKey, {\n            get: function get() {\n                return source[key];\n            },\n            set: function set(newVal) {\n                source[key] = newVal;\n            }\n        });\n    });\n}\nfunction emptyFun() {}\nfunction defProp(obj, key, descriptor) {\n    var getter = descriptor.get || emptyFun();\n    var setter = descriptor.set || emptyFun();\n    var enume = descriptor.enumerable;\n    var config = descriptor.configurable;\n    Object.defineProperty(obj, key, {\n        enumerable: enume === undefined ? true : !!enume,\n        configurable: config === undefined ? true : !!config,\n        get: getter,\n        set: setter\n    });\n}\nfunction randomString() {\n    var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n\n    var charList = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    var charListLength = charList.length;\n    return Array.from(new Array(length)).map(function (_) {\n        return charList[~~(Math.random() * charListLength)];\n    }).join('');\n}\nvar key = {\n    \"0\": 48,\n    \"1\": 49,\n    \"2\": 50,\n    \"3\": 51,\n    \"4\": 52,\n    \"5\": 53,\n    \"6\": 54,\n    \"7\": 55,\n    \"8\": 56,\n    \"9\": 57,\n    \"UP\": 38,\n    \"DOWN\": 40,\n    \"LEFT\": 37,\n    \"RIGHT\": 39,\n    \"BACKSPACE\": 8,\n    \"TAB\": 9,\n    \"ENTER\": 13,\n    \"SHIFT\": 16,\n    \"CTRL\": 17,\n    \"ALT\": 18,\n    \"SPACE\": 32,\n    \"DELETE\": 46,\n    \"a\": 97,\n    \"b\": 98,\n    \"c\": 99,\n    \"d\": 100,\n    \"e\": 101,\n    \"f\": 102,\n    \"g\": 103,\n    \"h\": 104,\n    \"i\": 105,\n    \"j\": 106,\n    \"k\": 107,\n    \"l\": 108,\n    \"m\": 109,\n    \"n\": 110,\n    \"o\": 111,\n    \"p\": 112,\n    \"q\": 113,\n    \"r\": 114,\n    \"s\": 115,\n    \"t\": 116,\n    \"u\": 117,\n    \"v\": 118,\n    \"w\": 119,\n    \"x\": 120,\n    \"y\": 121,\n    \"z\": 122,\n    \"A\": 65,\n    \"B\": 66,\n    \"C\": 67,\n    \"D\": 68,\n    \"E\": 69,\n    \"F\": 70,\n    \"G\": 71,\n    \"H\": 72,\n    \"I\": 73,\n    \"J\": 74,\n    \"K\": 75,\n    \"L\": 76,\n    \"M\": 77,\n    \"N\": 78,\n    \"O\": 79,\n    \"P\": 80,\n    \"Q\": 81,\n    \"R\": 82,\n    \"S\": 83,\n    \"T\": 84,\n    \"U\": 85,\n    \"V\": 86,\n    \"W\": 87,\n    \"X\": 88,\n    \"Y\": 89,\n    \"Z\": 90,\n    \"F1\": 112,\n    \"F2\": 113,\n    \"F3\": 114,\n    \"F4\": 115,\n    \"F5\": 116,\n    \"F6\": 117,\n    \"F7\": 118,\n    \"F8\": 119,\n    \"F9\": 120,\n    \"F10\": 121,\n    \"F11\": 122,\n    \"F12\": 123\n};\nvar CONST = exports.CONST = {\n    USE_CAPTURE: {\n        BUBBLING: false,\n        CAPTURE: true\n    },\n    KEY_CODE: key,\n    NODE_TYPE: {\n        element: 1,\n        text: 3,\n        comment: 8\n    }\n};\nvar regex = exports.regex = {\n    text: /{{\\s*(.*?)\\s*}}/\n};\nfunction pathToData(context, path, newVal) {\n    var propChain = path.split('.');\n    var isSet = newVal !== undefined;\n    try {\n        if (propChain.length === 1) {\n            if (isSet) {\n                context[propChain[0]] = newVal;\n                return true;\n            }\n            return context[propChain[0]];\n        }\n        if (isSet) {\n            var val = void 0;\n            propChain.forEach(function (prop, index) {\n                if (index < propChain.length - 1) {\n                    val = val[prop];\n                } else {\n                    val[prop] = newVal;\n                }\n            });\n        }\n        return propChain.reduce(function (x, y) {\n            return context[x][y];\n        });\n    } catch (e) {\n        warn(e);\n        return '';\n    }\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Watcher = exports.WatcherTarget = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar WatcherTarget = exports.WatcherTarget = null;\n\nvar Watcher = exports.Watcher = function () {\n    function Watcher(vm, exp, callback, options) {\n        _classCallCheck(this, Watcher);\n\n        this.vm = vm;\n        this.exp = exp;\n        this.callback = callback;\n        exports.WatcherTarget = WatcherTarget = this;\n        this.value = this._get(this.exp);\n        if (typeof this.value === 'function') {\n            this._computedValCache = this.value();\n            this._isFunc = true;\n        }\n        exports.WatcherTarget = WatcherTarget = null;\n    }\n\n    _createClass(Watcher, [{\n        key: \"_get\",\n        value: function _get(exp) {\n            return (0, _utils.pathToData)(this.vm, exp);\n        }\n    }, {\n        key: \"update\",\n        value: function update(oldVal, newVal) {\n            if (this._isFunc) {\n                newVal = this.value();\n                this.callback(this._computedValCache, newVal);\n                this._computedValCache = newVal;\n            } else {\n                this.callback(oldVal, newVal);\n            }\n        }\n    }]);\n\n    return Watcher;\n}();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(0);\n\nvar _Observer = __webpack_require__(4);\n\nvar _ComManager = __webpack_require__(3);\n\nvar _Parser = __webpack_require__(5);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultOptions = {\n    _isComponent: false,\n    data: {}\n};\nvar comManager = new _ComManager.ComManager();\nvar uid = 0;\n\nvar Geview = function () {\n    function Geview(options) {\n        _classCallCheck(this, Geview);\n\n        this.$methods = {};\n        if (!(this instanceof Geview)) {\n            return new Geview(options);\n        }\n        this._init(options);\n    }\n\n    _createClass(Geview, [{\n        key: \"_init\",\n        value: function _init(options) {\n            var _this = this;\n\n            this.$options = (0, _utils.merge)(options, defaultOptions);\n            var el = this.$options.el;\n            var isComponent = this.$options._isComponent;\n            if (el && !isComponent) {\n                this.el = (0, _utils.toElement)(el);\n                this.$comManager = comManager;\n            }\n            if (this.$options.name) {\n                this.name = this.$options.name;\n            }\n            if (isComponent) {\n                this._isComponent = true;\n            }\n            this._uid = uid++;\n\n            new _Observer.Observer(this.$options.data);\n\n            (0, _utils.proxy)(this, this.$options.data);\n            var computed = this.$options.computed;\n            if (computed) {\n                var keys = Object.keys(computed);\n                keys.forEach(function (key) {\n                    var computedFun = computed[key].bind(_this);\n                    (0, _utils.defProp)(_this, key, {\n                        enumerable: true,\n                        configurable: true,\n                        get: function get() {\n                            return computedFun;\n                        },\n                        set: _utils.emptyFun\n                    });\n                });\n            }\n            var methods = this.$options.methods;\n            if (methods) {\n                var _keys = Object.keys(methods);\n                _keys.forEach(function (key) {\n                    _this.$methods[key] = methods[key].bind(_this);\n                });\n            }\n            this.el && new _Parser.Parser(this.el, this);\n        }\n    }], [{\n        key: \"component\",\n        value: function component(name, options) {\n            if (!name) {\n                (0, _utils.warn)('Component name is required');\n                return;\n            }\n            var newCom = new Geview(Object.assign({ _isComponent: true, name: name }, options));\n            comManager.addCom(newCom);\n            return newCom;\n        }\n    }]);\n\n    return Geview;\n}();\n\nexports.default = Geview;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ComManager = exports.ComManager = function () {\n    function ComManager() {\n        _classCallCheck(this, ComManager);\n\n        this.components = {};\n    }\n\n    _createClass(ComManager, [{\n        key: \"addCom\",\n        value: function addCom(component) {\n            this.components[component.name] = component;\n        }\n    }, {\n        key: \"hasCom\",\n        value: function hasCom(name) {\n            return name in this.components;\n        }\n    }]);\n\n    return ComManager;\n}();\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Observer = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.initPorperty = initPorperty;\n\nvar _utils = __webpack_require__(0);\n\nvar _Publisher = __webpack_require__(6);\n\nvar _Watcher = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Observer = exports.Observer = function () {\n    function Observer(data) {\n        _classCallCheck(this, Observer);\n\n        if (!(0, _utils.isObject)(data)) {\n            (0, _utils.warn)('Observed data must be an object');\n            return;\n        }\n        (0, _utils.defProp)(data, '__ob__', {\n            enumerable: false,\n            configurable: true,\n            get: function get() {\n                return this;\n            }\n        });\n        Observer.traverse(data);\n    }\n\n    _createClass(Observer, null, [{\n        key: \"traverse\",\n        value: function traverse(data) {\n            var keys = Object.keys(data);\n            keys.forEach(function (key) {\n                initPorperty(data, key, data[key]);\n            });\n        }\n    }]);\n\n    return Observer;\n}();\n\nfunction initPorperty(obj, key, val) {\n    if ((0, _utils.isObject)(val)) {\n        new Observer(val);\n    }\n    var publisher = new _Publisher.Publisher();\n    (0, _utils.defProp)(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function get() {\n            if (_Watcher.WatcherTarget !== null) {\n                publisher.addWatcher(_Watcher.WatcherTarget);\n            }\n            return val;\n        },\n        set: function set(newVal) {\n            if (val === newVal) {\n                return;\n            }\n            if ((0, _utils.isObject)(newVal)) {\n                new Observer(newVal);\n            }\n            var oldVal = val;\n            val = newVal;\n            publisher.notify(oldVal, newVal);\n        }\n    });\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Parser = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(0);\n\nvar _Watcher = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar directives = [['bind', ':'], 'model', 'html', 'text', 'class', 'show', 'if', ['on', '@']];\nvar prefix = 'g-';\nvar dirHandlers = {\n    'bind': function bind(val) {\n        console.log(val);\n    }\n};\n\nvar Parser = exports.Parser = function () {\n    function Parser(el, context) {\n        _classCallCheck(this, Parser);\n\n        this.context = context;\n        if (!(this instanceof Parser)) {\n            return new Parser(el, context);\n        }\n        var fragment = document.createDocumentFragment();\n        var child = void 0;\n\n        while (child = el.firstChild) {\n            this.parseNode(child);\n            fragment.appendChild(child);\n        }\n        el.appendChild(fragment);\n    }\n\n    _createClass(Parser, [{\n        key: \"parseNode\",\n        value: function parseNode(node) {\n            var tag = node.tagName;\n\n            if (false) {} else {\n                switch (node.nodeType) {\n                    case _utils.CONST.NODE_TYPE.element:\n                        this.parseElement(node);\n                        break;\n                    case _utils.CONST.NODE_TYPE.text:\n                        this.parseText(node);\n                        break;\n                }\n                node.childNodes && Array.from(node.childNodes, this.parseNode.bind(this));\n            }\n        }\n    }, {\n        key: \"parseElement\",\n        value: function parseElement(el) {\n            var _this = this;\n\n            var attrs = Array.from(el.attributes, function (attr) {\n                return [attr.name, attr.nodeValue];\n            });\n            this._curElement = el;\n            attrs.forEach(function (attr) {\n                var dirRegex = new RegExp('^\\w+$', 'i');\n                var attrName = attr[0];\n                var attrVal = attr[1];\n                if (dirRegex.test(attrName)) {\n                    return;\n                }\n                directives.forEach(function (dir) {\n                    var dirRegex = void 0;\n                    if (Array.isArray(dir)) {\n                        dirRegex = new RegExp(\"(?:\" + (prefix + dir[0]) + \")?(\" + dir[1] + \")(\\\\w+)\", 'i');\n                    } else {\n                        dirRegex = new RegExp(\"(\" + (prefix + dir) + \")\", 'i');\n                    }\n\n                    if (!dirRegex.test(attrName)) {\n                        return;\n                    }\n                    _this.processDir(el, attrName, RegExp.$1, RegExp.$2, attrVal);\n                });\n            });\n        }\n    }, {\n        key: \"processDir\",\n        value: function processDir(el, attrName, dir, dirVal, val) {\n            var args = [el, attrName, dirVal, val];\n            dir === ':' && (dir = 'bind');\n            dir === '@' && (dir = 'on');\n            dir.split('-').length > 1 && (dir = dir.split('-')[1]);\n            el.removeAttribute(attrName);\n            var methodName = 'dir' + (dir[0].toUpperCase() + dir.slice(1));\n            this[methodName](el, dirVal, val);\n        }\n    }, {\n        key: \"dirBind\",\n        value: function dirBind(el, dirVal, val) {\n            el.setAttribute(dirVal, (0, _utils.pathToData)(this.context, val));\n            new _Watcher.Watcher(this.context, val, function (oldVal, newVal) {\n                el.setAttribute(dirVal, newVal);\n            });\n        }\n    }, {\n        key: \"dirModel\",\n        value: function dirModel(el, dirVal, val) {\n            var _this2 = this;\n\n            this.dirBind(el, 'value', val);\n            el.addEventListener('keyup', function (e) {\n                (0, _utils.pathToData)(_this2.context, val, el.value);\n            });\n        }\n    }, {\n        key: \"dirOn\",\n        value: function dirOn(el, dirVal, val) {\n            el.addEventListener(dirVal, this.context.$methods[val]);\n        }\n    }, {\n        key: \"dirHtml\",\n        value: function dirHtml(el, dirVal, val) {\n            el.innerHTML = (0, _utils.pathToData)(this.context, val);\n            new _Watcher.Watcher(this.context, val, function (oldVal, newVal) {\n                el.innerHTML = newVal;\n            });\n        }\n    }, {\n        key: \"dirText\",\n        value: function dirText(el, dirVal, val) {\n            el.innerText = (0, _utils.pathToData)(this.context, val);\n            new _Watcher.Watcher(this.context, val, function (oldVal, newVal) {\n                el.innerText = newVal;\n            });\n        }\n    }, {\n        key: \"dirClass\",\n        value: function dirClass(el, dirVal, val) {\n            var classList = (0, _utils.pathToData)(this.context, val);\n            if (typeof classList === 'string') {\n                el.classList.add(classList);\n            } else {}\n            new _Watcher.Watcher(this.context, val, function (oldVal, newVal) {\n                el.innerText = newVal;\n            });\n        }\n    }, {\n        key: \"dirShow\",\n        value: function dirShow(el, dirVal, val) {\n            var originalDisplay = el.style.display === 'none' ? '' : el.style.display;\n            if (!(0, _utils.pathToData)(this.context, val)) {\n                el.style.display = 'none';\n            }\n            new _Watcher.Watcher(this.context, val, function (oldVal, newVal) {\n                if (!newVal) {\n                    el.style.display = 'none';\n                } else {\n                    el.style.display = originalDisplay;\n                }\n            });\n        }\n    }, {\n        key: \"dirIf\",\n        value: function dirIf(el, dirVal, val) {\n            var sibling = el.nextElementSibling;\n            var parent = el.parentNode;\n            var elseElement = null;\n            var ifTarget = document.createComment('');\n            if (sibling.hasAttribute(prefix + 'else')) {\n                elseElement = sibling;\n                sibling = sibling.nextElementSibling;\n            }\n            if (!(0, _utils.pathToData)(this.context, val)) {\n                parent.removeChild(el);\n            } else {\n                if (elseElement) {\n                    parent.removeChild(elseElement);\n                }\n            }\n            parent.insertBefore(ifTarget, sibling);\n            new _Watcher.Watcher(this.context, val, function (oldVal, newVal) {\n                if (!newVal) {\n                    parent.removeChild(el);\n                    elseElement && parent.insertBefore(elseElement, ifTarget);\n                } else {\n                    elseElement && parent.removeChild(elseElement);\n                    parent.insertBefore(el, ifTarget);\n                }\n            });\n        }\n    }, {\n        key: \"parseText\",\n        value: function parseText(node) {\n            var txt = node.textContent;\n            var txtReg = _utils.regex.text;\n            if (!txtReg.test(txt)) {\n                return;\n            }\n\n            var exps = txt.match(new RegExp(txtReg, 'g')).map(function (match) {\n                return [match.replace(/[{}]/g, '').trim(), match];\n            });\n            var ctx = this.context;\n            exps.forEach(function (exp) {\n                node.textContent = node.textContent.replace(exp[1], (0, _utils.pathToData)(ctx, exp[0]));\n                new _Watcher.Watcher(ctx, exp[0], function (oldVal, newVal) {\n                    node.textContent = node.textContent.replace(oldVal, newVal);\n                });\n            });\n        }\n    }]);\n\n    return Parser;\n}();\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Publisher = exports.Publisher = function () {\n    function Publisher() {\n        _classCallCheck(this, Publisher);\n\n        this.watcherList = [];\n    }\n\n    _createClass(Publisher, [{\n        key: \"addWatcher\",\n        value: function addWatcher(watcher) {\n            this.watcherList.push(watcher);\n        }\n    }, {\n        key: \"notify\",\n        value: function notify(oldVal, newVal) {\n            this.watcherList.forEach(function (watcher) {\n                watcher.update(oldVal, newVal);\n            });\n        }\n    }]);\n\n    return Publisher;\n}();\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Geview = __webpack_require__(2);\n\nvar _Geview2 = _interopRequireDefault(_Geview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.Geview = _Geview2.default;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac3c58b1fccee8b63678","/**\n * Created by geeku on 27/03/2017.\n */\n/**\n * Created by geeku on 27/03/2017.\n */ export function warn(msg) {\n    console.warn('[Geview]: ' + msg);\n}\nexport function toElement(el) {\n    return typeof el === 'string' ? document.querySelector(el) : el;\n}\nexport function isObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\nexport function merge(options, defaultOptions) {\n    const keys = Object.keys(options).concat(Object.keys(defaultOptions));\n    const keyLength = keys.length;\n    for (let i = 0; i < keyLength; i++) {\n        const key = keys[i];\n        let defaultCur = defaultOptions[key];\n        let optionsCur = options[key];\n        if (defaultCur === optionsCur) {\n            continue;\n        }\n        if (!optionsCur) {\n            options[key] = isObject(defaultCur) ? Object.create(defaultCur) : defaultCur;\n        }\n        else if (isObject(defaultCur) && isObject(optionsCur)) {\n            merge(optionsCur, defaultCur);\n        }\n    }\n    return options;\n}\nexport function proxy(target, source) {\n    const keys = Object.keys(source);\n    keys.forEach(key => {\n        let targetKey = key;\n        if (target.hasOwnProperty(key)) {\n            targetKey += '_var';\n        }\n        defProp(target, targetKey, {\n            get: function () {\n                return source[key];\n            },\n            set: function (newVal) {\n                source[key] = newVal;\n            }\n        });\n    });\n}\nexport function emptyFun() { }\nexport function defProp(obj, key, descriptor) {\n    const getter = descriptor.get || emptyFun();\n    const setter = descriptor.set || emptyFun();\n    const enume = descriptor.enumerable;\n    const config = descriptor.configurable;\n    Object.defineProperty(obj, key, {\n        enumerable: enume === undefined ? true : !!enume,\n        configurable: config === undefined ? true : !!config,\n        get: getter,\n        set: setter\n    });\n}\nexport function randomString(length = 5) {\n    const charList = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const charListLength = charList.length;\n    return Array.from(new Array(length)).map(_ => charList[~~(Math.random() * charListLength)]).join('');\n}\nconst key = {\n    \"0\": 48,\n    \"1\": 49,\n    \"2\": 50,\n    \"3\": 51,\n    \"4\": 52,\n    \"5\": 53,\n    \"6\": 54,\n    \"7\": 55,\n    \"8\": 56,\n    \"9\": 57,\n    \"UP\": 38,\n    \"DOWN\": 40,\n    \"LEFT\": 37,\n    \"RIGHT\": 39,\n    \"BACKSPACE\": 8,\n    \"TAB\": 9,\n    \"ENTER\": 13,\n    \"SHIFT\": 16,\n    \"CTRL\": 17,\n    \"ALT\": 18,\n    \"SPACE\": 32,\n    \"DELETE\": 46,\n    \"a\": 97,\n    \"b\": 98,\n    \"c\": 99,\n    \"d\": 100,\n    \"e\": 101,\n    \"f\": 102,\n    \"g\": 103,\n    \"h\": 104,\n    \"i\": 105,\n    \"j\": 106,\n    \"k\": 107,\n    \"l\": 108,\n    \"m\": 109,\n    \"n\": 110,\n    \"o\": 111,\n    \"p\": 112,\n    \"q\": 113,\n    \"r\": 114,\n    \"s\": 115,\n    \"t\": 116,\n    \"u\": 117,\n    \"v\": 118,\n    \"w\": 119,\n    \"x\": 120,\n    \"y\": 121,\n    \"z\": 122,\n    \"A\": 65,\n    \"B\": 66,\n    \"C\": 67,\n    \"D\": 68,\n    \"E\": 69,\n    \"F\": 70,\n    \"G\": 71,\n    \"H\": 72,\n    \"I\": 73,\n    \"J\": 74,\n    \"K\": 75,\n    \"L\": 76,\n    \"M\": 77,\n    \"N\": 78,\n    \"O\": 79,\n    \"P\": 80,\n    \"Q\": 81,\n    \"R\": 82,\n    \"S\": 83,\n    \"T\": 84,\n    \"U\": 85,\n    \"V\": 86,\n    \"W\": 87,\n    \"X\": 88,\n    \"Y\": 89,\n    \"Z\": 90,\n    \"F1\": 112,\n    \"F2\": 113,\n    \"F3\": 114,\n    \"F4\": 115,\n    \"F5\": 116,\n    \"F6\": 117,\n    \"F7\": 118,\n    \"F8\": 119,\n    \"F9\": 120,\n    \"F10\": 121,\n    \"F11\": 122,\n    \"F12\": 123\n};\n// Array.from(letters, letter => {\n//     key[letter] = letter.charCodeAt(0);\n// });\n// Array(12).fill().forEach((val, index) => {\n//     key['F' + (index + 1)] = F1_KEYCODE + index;\n// });\nexport const CONST = {\n    USE_CAPTURE: {\n        BUBBLING: false,\n        CAPTURE: true\n    },\n    KEY_CODE: key,\n    NODE_TYPE: {\n        element: 1,\n        text: 3,\n        comment: 8\n    }\n};\nexport const regex = {\n    text: /{{\\s*(.*?)\\s*}}/\n};\nexport function pathToData(context, path, newVal) {\n    const propChain = path.split('.');\n    const isSet = newVal !== undefined;\n    try {\n        if (propChain.length === 1) {\n            if (isSet) {\n                context[propChain[0]] = newVal;\n                return true;\n            }\n            return context[propChain[0]];\n        }\n        if (isSet) {\n            let val;\n            propChain.forEach((prop, index) => {\n                if (index < propChain.length - 1) {\n                    val = val[prop];\n                }\n                else {\n                    val[prop] = newVal;\n                }\n            });\n        }\n        return propChain.reduce((x, y) => {\n            return context[x][y];\n        });\n    }\n    catch (e) {\n        warn(e);\n        return '';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","import { pathToData } from \"./utils\";\n/**\n * Created by geeku on 28/03/2017.\n */\nexport let WatcherTarget = null;\nexport class Watcher {\n    constructor(vm, exp, callback, options) {\n        this.vm = vm;\n        this.exp = exp;\n        this.callback = callback;\n        WatcherTarget = this;\n        this.value = this._get(this.exp);\n        if (typeof this.value === 'function') {\n            this._computedValCache = this.value();\n            this._isFunc = true;\n        }\n        WatcherTarget = null;\n        // if (!options.lazy) {\n        //\n        // }\n    }\n    _get(exp) {\n        return pathToData(this.vm, exp);\n    }\n    update(oldVal, newVal) {\n        if (this._isFunc) {\n            newVal = this.value();\n            this.callback(this._computedValCache, newVal);\n            this._computedValCache = newVal;\n        }\n        else {\n            this.callback(oldVal, newVal);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Watcher.ts","///<reference path=\"ComManager.ts\"/>\n/**\n * Created by geeku on 27/03/2017.\n */\nimport { defProp, emptyFun, merge, proxy, toElement, warn } from \"./utils\";\nimport { Observer } from \"./Observer\";\nimport { ComManager } from \"./ComManager\";\nimport { Parser } from \"./Parser\";\nconst defaultOptions = {\n    _isComponent: false,\n    data: {}\n};\nconst comManager = new ComManager();\nlet uid = 0;\nclass Geview {\n    constructor(options) {\n        this.$methods = {};\n        if (!(this instanceof Geview)) {\n            return new Geview(options);\n        }\n        this._init(options);\n    }\n    _init(options) {\n        this.$options = merge(options, defaultOptions);\n        const el = this.$options.el;\n        const isComponent = this.$options._isComponent;\n        if (el && !isComponent) {\n            this.el = toElement(el);\n            this.$comManager = comManager;\n        }\n        if (this.$options.name) {\n            this.name = this.$options.name;\n        }\n        if (isComponent) {\n            this._isComponent = true;\n        }\n        this._uid = uid++;\n        // observe data\n        new Observer(this.$options.data);\n        // proxy data to Geview's instance\n        proxy(this, this.$options.data);\n        const computed = this.$options.computed;\n        if (computed) {\n            const keys = Object.keys(computed);\n            keys.forEach(key => {\n                const computedFun = computed[key].bind(this);\n                defProp(this, key, {\n                    enumerable: true,\n                    configurable: true,\n                    get: function () {\n                        return computedFun;\n                    },\n                    set: emptyFun\n                });\n            });\n        }\n        const methods = this.$options.methods;\n        if (methods) {\n            const keys = Object.keys(methods);\n            keys.forEach(key => {\n                this.$methods[key] = methods[key].bind(this);\n            });\n        }\n        this.el && new Parser(this.el, this);\n    }\n    static component(name, options) {\n        if (!name) {\n            warn('Component name is required');\n            return;\n        }\n        const newCom = new Geview(Object.assign({ _isComponent: true, name: name }, options));\n        comManager.addCom(newCom);\n        return newCom;\n    }\n}\nexport default Geview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Geview.ts","export class ComManager {\n    constructor() {\n        this.components = {};\n    }\n    addCom(component) {\n        this.components[component.name] = component;\n    }\n    hasCom(name) {\n        return name in this.components;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ComManager.ts","/**\n * Created by geeku on 27/03/2017.\n */\nimport { defProp, isObject, warn } from \"./utils\";\nimport { Publisher } from \"./Publisher\";\nimport { WatcherTarget } from \"./Watcher\";\nexport class Observer {\n    constructor(data) {\n        if (!isObject(data)) {\n            warn('Observed data must be an object');\n            return;\n        }\n        defProp(data, '__ob__', {\n            enumerable: false,\n            configurable: true,\n            get: function () {\n                return this;\n            }\n        });\n        Observer.traverse(data);\n    }\n    static traverse(data) {\n        const keys = Object.keys(data);\n        keys.forEach(key => {\n            initPorperty(data, key, data[key]);\n        });\n    }\n}\nexport function initPorperty(obj, key, val) {\n    if (isObject(val)) {\n        new Observer(val);\n    }\n    const publisher = new Publisher();\n    defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            if (WatcherTarget !== null) {\n                publisher.addWatcher(WatcherTarget);\n            }\n            return val;\n        },\n        set: function (newVal) {\n            if (val === newVal) {\n                return;\n            }\n            if (isObject(newVal)) {\n                new Observer(newVal);\n            }\n            const oldVal = val;\n            val = newVal;\n            publisher.notify(oldVal, newVal);\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Observer.ts","/**\n * Created by geeku on 28/03/2017.\n */\nimport { CONST, pathToData, regex } from \"./utils\";\nimport { Watcher } from \"./Watcher\";\nconst directives = [['bind', ':'], 'model', 'html', 'text', 'class', 'show', 'if', ['on', '@']];\nconst prefix = 'g-';\nconst dirHandlers = {\n    'bind': function (val) {\n        console.log(val);\n    }\n};\nexport class Parser {\n    constructor(el, context) {\n        this.context = context;\n        if (!(this instanceof Parser)) {\n            return new Parser(el, context);\n        }\n        const fragment = document.createDocumentFragment();\n        let child;\n        // console.log(this);\n        while (child = el.firstChild) {\n            this.parseNode(child);\n            fragment.appendChild(child);\n        }\n        el.appendChild(fragment);\n    }\n    parseNode(node) {\n        const tag = node.tagName;\n        // console.log(node);\n        if (false /*context.comManager.hasCom(tag)*/) {\n            // TODO\n        }\n        else {\n            switch (node.nodeType) {\n                case CONST.NODE_TYPE.element:\n                    this.parseElement(node);\n                    break;\n                case CONST.NODE_TYPE.text:\n                    this.parseText(node);\n                    break;\n            }\n            node.childNodes && Array.from(node.childNodes, this.parseNode.bind(this));\n        }\n    }\n    parseElement(el) {\n        const attrs = Array.from(el.attributes, attr => [attr.name, attr.nodeValue]);\n        this._curElement = el;\n        attrs.forEach(attr => {\n            const dirRegex = new RegExp('^\\w+$', 'i');\n            const attrName = attr[0];\n            const attrVal = attr[1];\n            if (dirRegex.test(attrName)) {\n                return;\n            }\n            directives.forEach(dir => {\n                let dirRegex;\n                if (Array.isArray(dir)) {\n                    dirRegex = new RegExp(`(?:${prefix + dir[0]})?(${dir[1]})(\\\\w+)`, 'i');\n                }\n                else {\n                    dirRegex = new RegExp(`(${prefix + dir})`, 'i');\n                }\n                // console.log(dirRegex);\n                if (!dirRegex.test(attrName)) {\n                    return;\n                }\n                this.processDir(el, attrName, RegExp.$1, RegExp.$2, attrVal); //$1: directive name; $2: native value name, if have\n            });\n        });\n    }\n    processDir(el, attrName, dir, dirVal, val) {\n        // console.log(dir, dirVal);\n        const args = [el, attrName, dirVal, val];\n        dir === ':' && (dir = 'bind');\n        dir === '@' && (dir = 'on');\n        dir.split('-').length > 1 && (dir = dir.split('-')[1]);\n        el.removeAttribute(attrName);\n        const methodName = 'dir' + (dir[0].toUpperCase() + dir.slice(1));\n        this[methodName](el, dirVal, val);\n    }\n    dirBind(el, dirVal, val) {\n        el.setAttribute(dirVal, pathToData(this.context, val));\n        new Watcher(this.context, val, (oldVal, newVal) => {\n            el.setAttribute(dirVal, newVal);\n        });\n    }\n    dirModel(el, dirVal, val) {\n        this.dirBind(el, 'value', val);\n        el.addEventListener('keyup', e => {\n            pathToData(this.context, val, el.value);\n        });\n    }\n    dirOn(el, dirVal, val) {\n        el.addEventListener(dirVal, this.context.$methods[val]);\n    }\n    dirHtml(el, dirVal, val) {\n        el.innerHTML = pathToData(this.context, val);\n        new Watcher(this.context, val, (oldVal, newVal) => {\n            el.innerHTML = newVal;\n        });\n    }\n    dirText(el, dirVal, val) {\n        el.innerText = pathToData(this.context, val);\n        new Watcher(this.context, val, (oldVal, newVal) => {\n            el.innerText = newVal;\n        });\n    }\n    dirClass(el, dirVal, val) {\n        const classList = pathToData(this.context, val);\n        if (typeof classList === 'string') {\n            el.classList.add(classList);\n        }\n        else {\n        }\n        new Watcher(this.context, val, (oldVal, newVal) => {\n            el.innerText = newVal;\n        });\n    }\n    dirShow(el, dirVal, val) {\n        const originalDisplay = el.style.display === 'none' ? '' : el.style.display;\n        if (!pathToData(this.context, val)) {\n            el.style.display = 'none';\n        }\n        new Watcher(this.context, val, (oldVal, newVal) => {\n            if (!newVal) {\n                el.style.display = 'none';\n            }\n            else {\n                el.style.display = originalDisplay;\n            }\n        });\n    }\n    dirIf(el, dirVal, val) {\n        let sibling = el.nextElementSibling;\n        const parent = el.parentNode;\n        let elseElement = null;\n        let ifTarget = document.createComment('');\n        if (sibling.hasAttribute(prefix + 'else')) {\n            elseElement = sibling;\n            sibling = sibling.nextElementSibling;\n        }\n        if (!pathToData(this.context, val)) {\n            parent.removeChild(el);\n        }\n        else {\n            if (elseElement) {\n                parent.removeChild(elseElement);\n            }\n        }\n        parent.insertBefore(ifTarget, sibling);\n        new Watcher(this.context, val, (oldVal, newVal) => {\n            if (!newVal) {\n                parent.removeChild(el);\n                elseElement && parent.insertBefore(elseElement, ifTarget);\n            }\n            else {\n                elseElement && parent.removeChild(elseElement);\n                parent.insertBefore(el, ifTarget);\n            }\n        });\n    }\n    parseText(node) {\n        const txt = node.textContent;\n        const txtReg = regex.text;\n        if (!txtReg.test(txt)) {\n            return;\n        }\n        // '{{ content }} {{ content2 }}' =>  [['content', '{{ content }}'], ['content2', '{{ content2 }}']]\n        const exps = txt.match(new RegExp(txtReg, 'g')).map(match => [match.replace(/[{}]/g, '').trim(), match]);\n        const ctx = this.context;\n        exps.forEach(exp => {\n            // first time replace content\n            node.textContent = node.textContent.replace(exp[1], pathToData(ctx, exp[0]));\n            new Watcher(ctx, exp[0], (oldVal, newVal) => {\n                node.textContent = node.textContent.replace(oldVal, newVal);\n            });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Parser.ts","export class Publisher {\n    constructor() {\n        this.watcherList = [];\n    }\n    addWatcher(watcher) {\n        this.watcherList.push(watcher);\n    }\n    notify(oldVal, newVal) {\n        this.watcherList.forEach(watcher => {\n            watcher.update(oldVal, newVal);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Publisher.ts","/**\n * Created by geeku on 27/03/2017.\n */\nimport Geview from './Geview';\nwindow.Geview = Geview; // expose Geview to global\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}